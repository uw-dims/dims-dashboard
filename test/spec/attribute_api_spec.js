'use-strict';
var frisby = require('frisby');
frisby.create('GET JSON from attribute api')
  .get('http://localhost:3000/api/attributes')
  .expectStatus(200)  .expectJSONLength(2)
  .expectJSONLength('data',4)
  .expectJSONLength('data.testuser1',2)
  .expectJSONTypes('data.testuser1', { cidr: Array })
  .expectJSON('data.testuser1',{ cidr:
         [ '103.9.88.0/22',
           '188.190.96.0/19',
           '162.251.112.0/21',
           '212.235.0.0/17',
           '202.190.128.0/17',
           '178.213.184.0/21',
           '72.69.0.0/16',
           '91.200.32.0/22',
           '213.142.136.0/21',
           '192.64.176.0/20',
           '151.237.176.0/24',
           '109.207.112.0/20',
           '118.174.136.0/22',
           '107.170.0.0/17',
           '37.152.88.0/21',
           '65.192.0.0/11',
           '5.144.130.0/24',
           '81.162.64.0/20',
           '212.79.124.0/22',
           '113.53.255.0/24',
           '91.106.200.0/21',
           '77.221.144.0/24',
           '176.97.96.0/20',
           '108.169.228.0/22',
           '37.140.192.0/24',
           '103.229.146.0/24',
           '103.253.41.0/24',
           '195.211.152.0/22',
           '91.189.136.0/21',
           '46.20.12.0/24',
           '91.213.96.0/24',
           '177.54.150.0/23',
           '189.203.240.0/24',
           '46.29.255.0/24',
           '178.18.24.0/23',
           '193.107.16.0/23',
           '176.119.3.0/24',
           '186.233.144.0/21',
           '93.170.128.0/22',
           '37.247.101.0/24',
           '177.36.152.0/23',
           '37.0.120.0/21' ]})
  .toss();
frisby.create('GET JSON from attribute api - one user')
  .get('http://localhost:3000/api/attributes/testuser1')
  .expectStatus(200)
  .toss();

<!DOCTYPE html>
<html >
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="description" content="">
<title>DIMS Dashboard</title>
<!-- build:js(.) scripts/html5shim.js -->
<!--[if lt IE 9]>
    <script src="../bower_components/html5shiv-dist/html5shiv.js"></script>
<![endif]-->
<!-- endbuild -->
<!-- Place favicon.ico and apple-touch-icon.png in the root directory -->
<!-- build:css(.) styles/vendor.css -->
<!-- bower:css -->
<link rel="stylesheet" href="../bower_components/bootstrap/dist/css/bootstrap.css" />
<link rel="stylesheet" href="../bower_components/angular-motion/dist/angular-motion.min.css" />
<link rel="stylesheet" href="../bower_components/ng-grid/ng-grid.css" />
<link rel="stylesheet" href="../bower_components/nvd3/src/nv.d3.css" />
<link rel="stylesheet" href="../bower_components/font-awesome/css/font-awesome.css" />
<!-- endbower -->
<!-- endbuild -->
<!-- build:css(.tmp) styles/style.css -->
<link rel="stylesheet" href="styles/style.css" />
<!-- endbuild -->
</head>
<body ng-app="dimsDashboard" >

    <div ng-include src="'views/navbar.html'"></div>

    <div ng-view >
      
    </div>

    <div ng-include src="'views/partials/logmonitor.html'"></div>
    <div ng-include src="'views/partials/chat.html'"></div>

<!-- <div class="popup-log chat-popup">
    <div class="popup-head">
        <div class="popup-head-left">Log Monitor</div>
        <div class="popup-head-right"><span class="glyphicon glyphicon-chevron-down popup-btn" ></span><span class="glyphicon glyphicon-remove popup-btn" ></span></div>
        <div style="clear: both"></div>
    </div>
    <div class="popup-messages"></div>
</div>
<div class="popup-box chat-popup">
    <div class="popup-head">
        <div class="popup-head-left">Chat</div>
        <div class="popup-head-right"><span class="glyphicon glyphicon-chevron-down popup-btn" ></span><span class="glyphicon glyphicon-remove popup-btn" ></span>
</div>
        <div style="clear: both"></div>
    </div>
    <div class="popup-messages"></div>
</div> -->
    
    <!-- build:js(.) scripts/oldieshim.js -->
    <!--[if lt IE 9]>
    <script src="../bower_components/es5-shim/es5-shim.js"></script>
    <script src="../bower_components/json3/lib/json3.min.js"></script>
    <script src="../bower_components/respond/dest/respond.min.js"></script>
    <![endif]-->
    <!-- endbuild -->

    <script>
        FileAPI = {
            jsPath: '../bower_components/ng-file-upload-shim/FileAPI.min.js',
            staticPath: '../bower_components/ng-file-upload-shim/FileAPI.flash.swf'
        }
    </script>

    <!-- build:js(.) scripts/vendor.js -->
    <script src="../bower_components/regression-js/build/regression.min.js"></script>
    <script src="../bower_components/socket.io-client/socket.io.js"></script>
    <script src="../bower_components/cryptojslib/rollups/aes.js"></script>
    <!-- bower:js -->
    <script src="../bower_components/modernizr/modernizr.js"></script>
    <script src="../bower_components/jquery/dist/jquery.js"></script>
    <script src="../bower_components/ng-file-upload-shim/angular-file-upload-shim.js"></script>
    <script src="../bower_components/angular/angular.js"></script>
    <script src="../bower_components/angular-route/angular-route.js"></script>
    <script src="../bower_components/ng-file-upload/angular-file-upload.js"></script>
    <script src="../bower_components/angular-animate/angular-animate.js"></script>
    <script src="../bower_components/angular-resource/angular-resource.js"></script>
    <script src="../bower_components/angular-loader/angular-loader.js"></script>
    <script src="../bower_components/angular-cookies/angular-cookies.js"></script>
    <script src="../bower_components/angular-sanitize/angular-sanitize.js"></script>
    <script src="../bower_components/angular-touch/angular-touch.js"></script>
    <script src="../bower_components/angular-strap/dist/angular-strap.min.js"></script>
    <script src="../bower_components/angular-strap/dist/angular-strap.tpl.min.js"></script>
    <script src="../bower_components/d3/d3.js"></script>
    <script src="../bower_components/json3/lib/json3.js"></script>
    <script src="../bower_components/ng-grid/build/ng-grid.js"></script>
    <script src="../bower_components/nvd3/nv.d3.js"></script>
    <script src="../bower_components/lodash/dist/lodash.compat.js"></script>
    <script src="../bower_components/respond/dest/respond.src.js"></script>
    <script src="../bower_components/angular-bootstrap/ui-bootstrap-tpls.js"></script>
    <script src="../bower_components/angular-bootstrap-show-errors/src/showErrors.js"></script>
    <script src="../bower_components/angular-http-auth/src/http-auth-interceptor.js"></script>
    <script src="../bower_components/angular-socket-io/socket.js"></script>
    <!-- endbower -->
    <script src="../bower_components/angular-cryptography/mdo-angular-cryptography.js"></script>
    <!-- endbuild -->

    <!-- build:js({.tmp,app}) scripts/scripts.js -->
    <script src="scripts/lib/truncate.js"></script>
    <script src="scripts/app.js"></script>
    <script src="scripts/controllers/rwfindCtrl.js"></script>
    <script src="scripts/controllers/anonCtrl.js"></script>
    <script src="scripts/controllers/cifbulkCtrl.js"></script>
    <script src="scripts/controllers/crosscorCtrl.js"></script>
    <script src="scripts/controllers/datafilesCtrl.js"></script>
    <script src="scripts/controllers/mainCtrl.js"></script>
    <script src="scripts/controllers/uploadCtrl.js"></script>
    <script src="scripts/controllers/graphCtrl.js"></script>
    <script src="scripts/controllers/loginCtrl.js"></script>
    <script src="scripts/controllers/navbarCtrl.js"></script>
    <script src="scripts/controllers/logCtrl.js"></script>
    <script src="scripts/controllers/chatCtrl.js"></script>
    <script src="scripts/directives/directives.js"></script>
    <script src="scripts/directives/dimsResults.js"></script>
    <script src="scripts/directives/dimsForms.js"></script>
    <script src="scripts/filters/filters.js"></script>
    <script src="scripts/services/services.js"></script>
    <script src="scripts/services/dataService.js"></script>
    <script src="scripts/services/anonService.js"></script>
    <script src="scripts/services/settingsService.js"></script>
    <script src="scripts/services/socket.js"></script>
    <script src="scripts/services/authService.js"></script>
    <script src="scripts/services/sessionService.js"></script>
    <script src="scripts/services/usersessionService.js"></script>
    <script src="scripts/services/settingsService.js"></script>
    <script src="scripts/lib/owf/owf-widget-debug.js"></script>
    <!-- endbuild -->
    
    <script>
$('.dropdown-toggle').click(function(e) {
  e.preventDefault();
  e.stopPropagation();
});
</script> 

<script>

OWF.ready(function () { 

    // console.log('in OWF.ready');
    // OWF.Preferences.getCurrentUser({
    //     onSuccess: function(result) {
    //         // Get the session
    //         console.log(result);

    //     },
    //     onFailure: function(error) {
    //         console.log('Cannot retrieve OWF user ' + error);
    //     }
    // });
    // Source: Neon widgets
    var widgetState = Ozone.state.WidgetState.getInstance({
        onStateEventReceived: function(sender, msg) {
            var event = msg.eventName;

            if(event === 'activate' || event === 'show') {
                $(document.body).show();
            }
            else if(event === 'hide') {
                $(document.body).hide();
            }
        }
    });

    // listen for  activate and hide events so that we can
    // hide our body.  Some browsers, specifically Chrome, continues
    // to render iframes with elments that use specific webkit transforms
    // even when they are hidden.  This impact many Map packages and some
    // SVG packages.  The work around for this is to hide our widget body
    // on hide events.
    widgetState.addStateEventListeners({
        events: ['activate', 'hide', 'show']
    });
    
    OWF.notifyWidgetReady();
});
</script>

</body>
</html>